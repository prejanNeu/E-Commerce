
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>ePasal - Modern E-commerce Store</title>
   <link rel="stylesheet" type="text/css" href="{% static 'app/style.css' %}">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
   <nav class="navbar">
       <div class="nav-brand">
           <i class="fas fa-store"></i>
           <h1>ePasal</h1>
       </div>
       <ul class="nav-links">
           <li><a href="#" class="active">Home</a></li>
           <li><a href="#products">Products</a></li>
           <li><a href="#cart">Cart <span id="cart-count">0</span></a></li>
       </ul>
       <div class="auth-buttons">
        <a class="btn btn-login" href="{% url 'login_page' %}">Login</a>
        <a class="btn btn-register" href="{% url 'register_page' %}">Register</a>
        <a class="btn btn-register" href="{% url 'logout_page' %}">Logout</a>

    </div>
    
   </nav>

   <main>
       <section id="products" class="products-section">
           <h2>Trending Products</h2>
           <div class="products-grid" id="products-container">
               <!-- Products will be dynamically inserted here -->
           </div>
       </section>

       <section id="cart" class="cart-section hidden">
           <h2>Shopping Cart</h2>
           <div class="cart-items" id="cart-items">
               <!-- Cart items will be dynamically inserted here -->
           </div>
           <div class="cart-summary">
               <h3>Total: <span id="cart-total">â‚¨ 0.00</span></h3>
               <button class="btn btn-checkout" onclick="initiatePayment()">Checkout with eSewa</button>
           </div>
       </section>
   </main>

   <!-- Hidden eSewa Payment Form -->
   <form id="esewaPaymentForm" action="https://rc-epay.esewa.com.np/api/epay/main/v2/form" method="POST" style="display: none;">
       <input type="hidden" name="amount" id="amount">
       <input type="hidden" name="tax_amount" id="tax_amount">
       <input type="hidden" name="total_amount" id="total_amount">
       <input type="hidden" name="transaction_uuid" id="transaction_uuid">
       <input type="hidden" name="product_code" id="product_code">
       <input type="hidden" name="product_service_charge" id="product_service_charge">
       <input type="hidden" name="product_delivery_charge" id="product_delivery_charge">
       <input type="hidden" name="success_url" id="success_url">
       <input type="hidden" name="failure_url" id="failure_url">
       <input type="hidden" name="signed_field_names" id="signed_field_names">
       <input type="hidden" name="signature" id="signature">
   </form>

   <script src= "{% static 'app/script.js' %}"></script>
</body>
</html>